<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sign-up form</title>
    <style>
      #sign_up_form {
        margin-left: 10%;
        margin-top: 10%;
        padding: 50px;
        font-size: larger;
        border: 2px solid bisque;
        position: absolute;
      }
      #danger {
        color: red;
      }
    </style>
  </head>
  <body>
    <h4>Sign-up page</h4>
    <div id="sign_up_form">
      <form action="#" method="post">
        <div id="first-name">
          <label>FIrst Name:</label>
          <input type="text" id="fname" />
          <p id="danger"></p>
        </div>
        <div id="last-name">
          <label>Last Name:</label>
          <input type="text" id="lname" />
          <p id="danger"></p>
        </div>
        <div id="User-name">
          <label>User Name:</label>
          <input type="text" id="uname" />
          <p id="danger"></p>
        </div>
        <div id="Email">
          <label>Email:</label>
          <input type="text" id="eml" />
          <p id="danger"></p>
        </div>
        <div id="Age">
          <label>Age:</label>
          <input type="number" id="age" />
          <p id="danger"></p>
        </div>
        <div id="Password">
          <label>Password:</label>
          <input type="password" id="pswd" />
          <p id="danger"></p>
        </div>
        <div id="Conform-password">
          <label>Conform-password:</label>
          <input type="password" id="cpswd" />
          <p id="danger"></p>
        </div>
        <button type="button" id="btn">Sign-up</button>
      </form>
      <div id="err"></div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
      crossorigin="anonymous"
    ></script>
    <script>
      document.querySelector("#btn").addEventListener("click", function () {
        const first_name = $("#fname").val();
        const last_name = $("#lname").val();
        const user_name = $("#uname").val();
        const email_id = $("#eml").val();
        const Age = $("#age").val();
        const password = $("#pswd").val();
        const conform_password = $("#cpswd").val();
        const email_pattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        const password_pattern = /^[a-zA-Z0-9!@#$%^&*]{6,16}$/;
        const match_string= ' ';
        let valid = 0;
        function success_msg() {
          $("#sign_up_form").html(
            `<h3>Congo üòç you have registrated successfully</h3>`
          );
        }
        function clear(id) {
          $(`#${id}`).find("#danger").empty();
        }
        // first name validation
        function FirstNameValidation(fname) {
            if (fname === '' || fname.match(match_string)) {
                $("#first-name").find("#danger").text("Note*First-name should not be null!!");
                valid = 1;
            }else{
                clear('first-name');
                valid = 0;
            }
            
        }
        // Last name validation
        function LastNameValidation(usrname) {
            if (usrname == '' || usrname.match(match_string)) {
                $("#last-name").find("#danger").text("Note*Last-name should not be null!!");
                valid = 1;
            }else{
                clear('last-name');
                valid = 0;
            }
            
        }
        // User name validation
        function UserNameValidation(lname) {
            if (lname === '' || lname.match(match_string)) {
                $("#User-name").find("#danger").text("Note*User-name should not be null!!");
                valid = 1;
            }else{
                clear('User-name');
                valid = 0;
            }
            
        }
        // Age validation
        function AgeValidation(age) {
          if (age === "" || age.match(match_string)) {
            $("#Age").find("#danger").text("Note*age should not be null!!");
            valid = 1;
            return true;
          } else {
            clear("Age");
            if (!(age >= 13)) {
              $("#Age")
                .find("#danger")
                .text("Note*age should be greater than 13");
              valid = 1;
              return true;
            } else {
              clear("Age");
              valid = 0;
            }
          }
        }

        // email validation
        function EmailVarification(eml,eml_ptrn) {
          if (eml === "" || eml.match(match_string)) {
            $("#Email").find("#danger").text("Note*Email should not be null!!");
            valid = 1;
            return true;
          } else {
            clear("Email");
            if (!eml.match(eml_ptrn)) {
              $("#Email")
                .find("#danger")
                .text("Note*Please enter email like example@example.com");
              valid = 1;
              return true;
            } else {
              clear("Email");
              valid = 0;
            }
          }
        }

        // password validation
        function PasswordValidation(pswd,cpswd,pswd_ptrn) {
            if ((pswd === "" || pswd.match(match_string)) || (cpswd === "" || cpswd.match(match_string))) {
          $("#Password")
            .find("#danger")
            .text("Note*password should not be null !");
          valid = 1;
          return true;
        } else {
          clear("Password");
          clear("Conform-password");
          if (!(pswd === cpswd)) {
            $("#Conform-password")
              .find("#danger")
              .text("Note*Both password should be same!");
            valid = 1;
            return true;
          } 
          else if (
            !(pswd.match(pswd_ptrn) && cpswd.match(pswd_ptrn))
          ) {
            clear("Password");
            clear("Conform-password");
            $("#Password")
              .find("#danger")
              .text(`Note*Password should contain ${pswd_ptrn}`);
            valid = 1;
            return true;
          } else {
            clear("Password");
            clear("Conform-password");
            valid = 0;
          }
        }
        }
        if (first_name === '' && last_name === '' && user_name === '' && email_id === '' && Age === '' && password === '' && conform_password === '') {
            if (first_name.match === '' && last_name === '' && user_name === '' && email_id === '' && Age === '' && password === '' && conform_password === '') {
                
            }
            valid=1;
        }
        else{
            FirstNameValidation(first_name);
            LastNameValidation(last_name);
            UserNameValidation(user_name);
            AgeValidation(Age);
            EmailVarification(email_id,email_pattern);
            PasswordValidation(password,conform_password,password_pattern);
        }
        
        console.log(valid,"###########");
        if (valid === 0) {
            clear('err');
            success_msg();
           
            
        } else {
          $("#err").html(
            `<p id="danger">please fill all fields of form!</p>`
          );
        }
      });
    </script>
  </body>
</html>
